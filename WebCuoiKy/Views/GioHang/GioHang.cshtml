@using WebCuoiKy.Models;

@{
    ViewBag.Title = "GIỎ HÀNG CỦA BẠN";
    Layout = "~/Views/Shared/_Layout_User.cshtml";
}

<style>
    td {
        height: 50px;
        color: black;
    }

    a {
        color: black;
    }

        a:hover {
            color: #FFEA00;
        }
        .content{
            margin-top:-25px;
            margin-bottom:10px;
            text-align:center;
            border-radius:0.5em;

        }
    .content {
        box-shadow: 2px 2px 4px #aaa;
    }
</style>
@section SliderPartial
{
    <div class="container-fluid pt-5" style="background-color:white; width:100%;">
            <div class="content" style="background-color: #F3F4F6; width: 100%; margin-left: -2px; height: 45px; border:1px solid #808080">
                <h5 class="section-title px-5" style="padding-top: 10px; text-align: left; ">GIỎ HÀNG CỦA BẠN</h5>
            </div>
        <table border="1" width="100%">
            <tr style=" font-size:15px;text-align:center;">
                <td>Ảnh Bìa</td>
                <td>Tên Sản Phẩm</td>
                <td>Số Lượng</td>
                <td>Đơn Giá</td>
                <td>Thành Tiền</td>
                <td style="background-color:red; color:white;">@Html.ActionLink("X", "XoaAllGioHang")</td>
            </tr>
            @foreach (var item in Model)
            {
                <tr>
                    <td><img src="~/img/@item.sAnhBia" style="height:100px;" /></td>
                    <td><a href="@Url.Action("ChiTietSanPham", "SachOnline", new { id = item.sMaSP })" style="text-decoration:none;">@item.sTenSP</a></td>
                    @using (Html.BeginForm("CapNhatGioHang", "GioHang", new { sMaSP = item.sMaSP }))
                    {
                        <td align="center" style="width:27%;">
                            <input type="number" min="1" name="txtSoLuong" value="@item.iSoLuong" style=" width:50%; text-align:center;" />
                            <input type="submit" value="Cập nhật" style="background-color:#488fcc; color:#ffffff; border:1px solid #767676; height: 30px;" />
                        </td>
                        <td align="center">@string.Format("{0:#,##}", @item.dDonGia)đ</td>
                        <td align="center">@string.Format("{0:#,##0,0}", @item.dThanhTien)đ</td>
                        <td>@Html.ActionLink("Xóa", "XoaGioHang", new { @sMaSP = item.sMaSP })</td>

                    }
                </tr>
            }
            <tr>
                <td colspan="2" style="text-align: right; padding-right: 15px; color: #488fcc; ">
                    Tổng số lượng:
                </td>
                <td style="text-align:center; padding-right:100px;">@string.Format("{0:#,##0}", ViewBag.TongSoLuong)</td>
                <td colspan="3" style="text-align:right; width:25%; color:#488fcc;">
                    Tổng tiền: <span style="color:red;">@string.Format("{0:#,##0,0}", ViewBag.TongTien)đ</span>
                </td>
            </tr>
            <tr style="font-weight:bold; color:blue; text-align:center;">
                <td colspan="9">
                    @Html.ActionLink("ĐẶT HÀNG", "DatHang", "GioHang")
                </td>
            </tr>
        </table>
        </div>
}
